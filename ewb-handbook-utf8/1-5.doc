chapter 5
//i レイアウト

  これまでは、トリガはどんな役割りをして、どのような表現力を持っているかなどといった原稿の要素指定を中心に説明してきました。EWBでは、このようなことがわかってしまえば、後は、簡単なことばかりです。というのも、これから版下作成までの作業はあなたの代わりにコンピュータがほとんどやってくれるからなのです。
  この章では、用意されたトリガ入り原稿をどのようにレイアウトし、版下作成を行っていくかといったことについて触れてみます。バッチ処理を採用したEWBの特徴をよく理解して効率的な版下作成を行ってください。

//ii 便利な//in116オートレイアウト

  ここでは、EWBにおける版下作成の様子を見てみることにします。トリガ入り原稿がコンピュータ上でどのように扱われて版下になっていくのでしょうか。また、どのような部分が自動化され、効率が上がるのでしょうか。

//iii 指定した要素を流し込む

  EWBではトリガを使って原稿中に文書の論理的な記述を行い、そのトリガの物理的意味付けは体裁入力ファイルに記述するという説明をしてきました。しかし、これらの情報がばらばらでは目的の版下を得ることはできません。2つの情報が一緒になることではじめて紙面上の表現ができます。EWBは、これらの情報が組版処理を行う時に結合される仕掛けになっており、バッチ処理の特徴がこの時点で現われます。
  まず、編集者がEWBに対して組版指示を行うと、EWBはトリガのはいった原稿と各トリガの体裁を読み込みます。原稿の先頭から段落ごとにトリガで指定された通りに文字を組んでいき、組み上がった段落を順番に仮想的な巻紙の上に置いていきます（//f010501）。そして、ある程度出力できる要素が集まったら、仮想的な巻紙をページ単位に切っていきます。この時に、脚注や図表類のように出力する位置が固定しないものは、本文とは別の巻紙に置いていき、出力時に最適な場所に挿入されるようになっています。また、柱やノンブルも指定された体裁で割り付けられます。このような処理を自動的に繰り返して、必要な版下が出来上がるわけです。

//f010501 仮想的な巻紙

//iii 各要素の自動配置

  ワープロやエディタで作成した文書をEWBで処理すると、事前に決められている版面に従って、自動的に文字が流れていき、ページ上に収まるようになっています。その際、組版処理に伴うさまざまな作業、たとえば、どういった禁則処理を行い、どの単語にどのようなハイフネーション処理を施すかなどといった処理は、すべてEWBが自動的に行ってくれます。特別な作業を行う必要はありません。
  また、トリガで指定された各要素も決められた規則に従って、自動的に配置されていきます。見出しがページ末に1行だけ残ってしまうような場合に改ページを自動的に行って次のページに送ったり、複数の脚注を出力する場合にいくつまで入るかどうかを自動的に判断してページ末に配置するなどといったページアップに必要な処理を行います。このようにEWBでは、各要素に対して試行錯誤しながら適切な位置を判断し、コンピュータがいちばん美しく見えるように組み上げてくれるのです。

//iii 図表類の位置を決める

  版面上にさまざまな要素をレイアウトしていく上で、特に重要なものは図表類の扱いです。図表類と内容は大変深い関係があり、一般に読み易さを優先するため図表類の位置指定は、多くの労力を必要とします。EWBでは、図表類が自動的にページ上の適切な位置にくるように工夫を凝らしています。

//iiii フロートしない図表類

  プログラムリストや長い表などのように、複数ページにまたがって出力して欲しい図表類を、EWBでは“//in117フロート（浮動）しないもの”と呼びます。この分類に属する図表類は、原稿中に指定した位置に必ず出力されるようになっています。指定された図表類が複数ページに分かれる場合は、本文の組版と同様に適切な位置で自動的に改ページされます（//f010502）。

//f010502 フロートしない図表類

//iiii フロートする図表類

  キャプションの付いた図や表などが、本文中にある参照番号の近くに位置して欲しいような図表類を、EWBでは“//in118フロートするもの”と呼びます。この分類に指定された図表類は複数に分かれてしまうことはなく、自動的に本文の参照番号と一緒に流れていき、参照番号が存在するページ内、もしくはその数ページ以内に出力されるようになっています（//f010503）。

//f010503 フロートする図表類

  “フロートするもの”として指定された図表類は、それぞれに対して“//in119here、//in120top、//in121bottom、//in122page”という4つの位置指定を組み合わせて、レイアウト規則を記述することができます（//f010504）。たとえば、“here、top、bottom”の順序で指定された場合、まず図表トリガの書かれている位置に図表の挿入を試みます。もし、きちんと収まるのであれば、その部分に図表を挿入します。この時、うまくその位置に入らない場合には、次のページの先頭に入るかどうかを試してみます。そして、それでもうまく入らない場合は、ページ末に挿入しようとし、最適な位置を見つけ出します。
  このように、EWBでは指定されたレイアウト規則に基づいて、図表の大きさと挿入位置の整合性をチェックしていき、適切な場所を自動的に捜していくのです。

//f010504 図表類の位置指定


//ii 思い通りにレイアウトする

  組版やレイアウトに関連した作業は、すべてEWBが受け持って処理してくれます。しかしながら、コンピュータは規則に基づいて処理を行うだけですから、私たちにとって満足のいくものを提供してくれるとは限りません。もちろんEWBも同様で、EWBが適切な位置を判断して各要素を出力したとしても、思った通りのレイアウトが得られない場合もあるわけです。
  そこで、EWBには、自動的に組み上げられたレイアウトを、手作業で思い通りの位置に修正するための機能が備わっています。

//iii //in123組版トリガとは

  自動的に組み上げられたレイアウトを手作業で修正する場合にも、やはりトリガを使用します。手作業で、行のアキ調整や改ページなどといったことを行うトリガは、“編集トリガ”と対比させて、“組版トリガ”と呼びます（//f010505）。

//f010505 組版トリガによるレイアウト修正

  組版トリガの種類としては、大きく分けて次の3つがあります。

//k1{
・//|改行
・//|改ページ
・//|縦／横方向のアキ調整
//}

  この他にも、“字下げ”や“揃え”などといった組版トリガも用意されており、柔軟に対応することができます。

//iii //in124強制改行

  行中にきれいに収まらなかった単語や文字に対して、任意の位置で強制改行させることができます（//f010506）。

//f010506 強制改行

  英字の製品名や技術用語には、どこで//in125ハイフネーションを行ったらよいのかわからない場合も数多くあります。EWBでは、このような英単語を見つけた場合には、自動的に分けるのをやめてしまい、版面からはみ出して出力されるようになっています。このような場面に遭遇した時に、強制改行の組版トリガを用いて対処します。また、これと反対に、自動的に改行されてしまうような英単語などを分割禁止にすることもできます。
  もちろん英単語だけではなく、複数行になってしまう見出しなども、思い通りの位置で改行することができます。

//iii //in126強制改ページ

  指定した位置で強制的に改ページを行わせることができます。段落と段落の間だけでなく、文書中の任意の位置で改ページさせることができます（//f010507）。

//f010507 強制改ページ

  重要な見出しや文書がページ末にあり、読み易さを損なうような場合には、強制的に改ページをさせて、次のページに送ることができます。

//iii //in127アキの調整

  文字間や行間を必要な量だけ、一時的に広げたり詰めたりすることができます（//f010508）。図表類や見出しの前後のアキ調整を行ったり、文字間が大きく空いている場所を詰めたりする時に用いる組版トリガです。

//f010508 縦／横方向のアキ調整

//ii ワークサイクル

  EWBで組版した結果は、プリンタに印刷したり、画面上に表示させて確認することが簡単にできます。プリンタや画面で組版結果を確認し、気に入らなければもう一度、記述されたトリガの位置を変更したり、トリガの種類を変えたりして、EWBに処理をさせます。この作業を、納得の行く結果が得られるまで繰り返し、最終的に出来上がったものをフィルムや印画紙に出力するのです。EWBシステムでの版下作業のサイクルは、このような“修正&確認”という作業の繰り返しになっています（//f010509）。

//f010509 EWBのワークサイクル

  もちろん、コンピュータが完璧なものを仕上げていれば、このようなレイアウト修正の作業は必要ありません。単に、トリガの入力ミスがないか、書き忘れはないかなどといったことを確認するだけで済みます。
  しかし、コンピュータが規則に基づいて組み上げたレイアウトであるため、どうしても、私たちの目で見て感じ、そして納得した美しさとは、比較することができません。そのため、EWBでは、すべてをコンピュータにまかせるのではなく、自動的な組版処理と手作業によるレイアウト処理を部分的に組み合わせて、より品質の高い版下を得ることができるようになっています。
