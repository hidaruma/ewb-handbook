chapter 3
//i //in448EWBでのトラブル

  これまで本書では、主に、EWBシステムの概念やオペレーションを中心に話を進めてきました。そのため、正しく動作することを前提として説明を行ってきました。しかし、実際にEWBシステムを利用していると、ちょっとした入力ミスや思い違いで、いろいろなエラーが発生してしまいます。また、EWBシステムを利用している際に発生するトラブルの原因は、オペレーションのミスだけでなく、組版に使っている//TeX本体のトラブル、さらに出力するプリンタや表示用端末のハードウェアトラブルなどがあります。
  そこで本章では、EWBシステムを利用した際のトラブルについて説明します。

//ii 出力時のトラブル

//iii プリンタ出力時のトラブル

  組版が終ったファイルをプリンタから出力しようとして、“ファイル名.OUT”と入力しても、プリンタから出力されない場合があります。この多くは、使用しているEPSファイルが正しくないこと原因であることがほとんどです。使用しているEPSファイルがEWBで扱える状態になっているか
//list{
% epscheck EPSファイル名
//}
で確認してください。

//iii プレビュー時のトラブル

  プリンタの場合と同様の原因で、EWB-Shelfの“ファイル名.PRE”コマンドを用いても表示されないことがあります。そのほかに、EPS画像の中の和文フォントが化ける場合があります。これはプレビューに使用しているghostscriptというプログラムが図中の和文を正しく表示していないのが原因です。EPS画像の中の和文についてはプリンタ出力で確認するようにしてください。

//ii 組版時のトラブル
　
  EWB-Shelfで原稿を組版している際には、入力／操作ミスによるトラブル以外にも、組版を行っている//TeXがエラーを表示してしまうこともあります。


//iii 組版に関する警告メッセージ

  EWB-Shelfで原稿ファイルを処理している最中に、“//tt{//in450Overfull \hbox//}”や“//tt{//in451Underfull \vbox//}”というメッセージが表示されることがありますが、これは単に//TeXがきれいに組版を行えなかったことを伝えているだけです。この警告メッセージが表示されても、作業は中断されません。組版した結果に問題がなければ気にする必要はありません。


//iii 書体に関する警告／エラーメッセージ

  マクロを追加したり修正した際に、一部の書体定義を忘れてしまい、そのまま気が付かずに組版処理を行ってしまった時に、//TeXがメッセージを表示します。
たとえば、小組や箇条書の和欧文フォントの定義を忘れると、

//list2{
　Type  H <return>  for immediate help.
　! No such composit `gt@honmon'.
　.........
　?//sl{x//}
//}
	
といったメッセージが表示されます。
  このような“?”が表示されてEWBシステムが停止してしまった場合には、“x”を入力して、処理を一時中断してください。
  トリガの入力ミスはないか、指定通りのトリガを正しい位置に記述しているかどうかをまず調べて、再度実行してみてください。それでも直らない場合には、もう一度、マクロファイルを調べてみましょう。

//iii 入力ファイルの指定ミス

  体裁入力エディタを使って標準の“ewb2latex.cls”以外の名前でスタイルファイルを作成し、EWB-Shelfのbookコマンドで原稿ファイルを登録する場合に、利用するスタイルファイルを正しく指定しなければなりません。この指定を行わないと、次のようなメッセージが表示されてしまいます。

//list2{
　! I can't find file `ewb2latex.cls'.
　l.1 \documentclass{ewb2latex}

　Please type another input file name: 
//}

  同じようなメッセージは、自分が特別に作成したマクロの中でファイルの読み込みを行っている場合にも当てはまります。単純な指定ミスや、何かの理由でファイルがなくなってしまった場合にこのメッセージが表示された時には、自分の端末に設定されているインターラプトキー（ctrl-Cやctrl-//key2{DEL//}に割り当てられている）を押し、一旦処理を強制終了してください。強制終了後、原稿ファイルをよく調べ、正しいファイル名に修正しましょう。

//ii EPSファイルの作成ミス

  EPSファイルの改行コードがUNIX形式になっていない場合、//TeXがEPSファイルを読み込んだ時点で次のようなメッセージを表示して処理を停止します。

//list2{
　! Unable to read an entire line---bufsize=4096.
　Please ask a wizard to enlarge me.
//}

  この場合は、読み込まれているEPSファイルを//in625
//list{
% epscheck EPSファイル名
//}
で改行コードが正しいかどうかをチェックしてください。正しくなければ次のコマンドで改行コードをUNIX形式に変換します。//in626

//list{
% tounix EPSファイル名
//}

//ii その他のトラブル

  EWB-Shelfの操作中に、EWB-Shelf自身がエラーメッセージを表示することがあります。このエラーメッセージの多くは、単純な入力ミスであったり、原稿ファイルや作業ディレクトリに対して不注意な操作を行ったために表示されます。次に、気を付けなければならない操作をいくつかあげておきます。

//k1{
・//|EWB-Shelfが作成した“Work”と“Targets”という2つのディレクトリは、勝手に消さない
・//|原稿ファイルやディレクトリのパーミッションを読み込み不可に変更しない
・//|原稿ファイル名やディレクトリ名を勝手に変更しない。変更した場合には、//g{book//}コマンドでEWB-Shelfに対して変更したことを伝える
//}
